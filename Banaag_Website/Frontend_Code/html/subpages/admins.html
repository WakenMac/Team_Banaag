<!DOCTYPE html>
<!-- NOTE: and # sa href kay mostly placeholders lang, and will be replaced with actual source path for that specific function -->
<!-- USED TAILWIND -->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>CARES | Admin Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&amp;display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/admin.css" />
  </head>

  <body class="bg-[#f3f7f7] min-h-screen">
    <nav
      class="flex items-center justify-between px-4 md:px-8 lg:px-12 h-20 border-b border-gray-300 bg-[#f3f7f7]"
    >
      <!-- Left side: Logo and Title -->
      <a
        href="/dashboard"
        class="flex items-center space-x-3 group"
      >
        <img
          alt="CARES logo with green and yellow colors, circular emblem with text"
          class="object-contain w-12 h-12 transition-transform"
          height="48"
          src="/images/cas_logo.png"
          width="48"
        />
        <div class="flex flex-col leading-tight">
          <span class="text-sm font-semibold text-black"> CARES. </span>
          <span class="text-[9px] font-semibold text-black/80 tracking-tight">
            CENTRALIZED RESOURCE
          </span>
          <span class="text-[9px] font-semibold text-black/80 tracking-tight">
            AND EQUIPMENT SYSTEM
          </span>
        </div>
        <div class="h-10 ml-4 border-l border-black/40"></div>
      </a>

      <!-- Right side: Navigation Links -->
      <ul class="flex space-x-8 text-[13px] font-normal text-black">
        <li>
          <a
            class="pb-1 border-b-2 border-transparent hover:border-[#2ca14a] hover:text-[#2ca14a]"
            href="/dashboard"
            >
            Dashboard
          </a>
        </li>
        <li class="relative">
          <button
            aria-expanded="false"
            aria-haspopup="true"
            class="inline-flex items-center font-semibold pb-1 border-b-2 border-[#2ca14a] text-[#2ca14a] cursor-pointer select-none focus:outline-none"
            id="masterlistBtn"
            type="button"
          >
            Masterlist
            <i class="ml-1 text-xs fas fa-chevron-down"> </i>
          </button>
          <ul
            aria-labelledby="masterlistBtn"
            class="absolute left-0 z-10 invisible mt-1 transition-opacity bg-white border border-gray-300 rounded shadow-md opacity-0 top-full w-36"
            id="masterlistMenu"
            role="menu"
          >
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/admins"
                role="menuitem"
                tabindex="-1"
              >
                Admins
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/inventory"
                role="menuitem"
                tabindex="-1"
              >
                Inventory
              </a>
            </li>
          </ul>
        </li>
        <li class="relative">
          <button
            aria-expanded="false"
            aria-haspopup="true"
            class="inline-flex items-center cursor-pointer select-none focus:outline-none"
            id="consumablesBtn"
            type="button"
          >
            Consumables
            <i class="ml-1 text-xs text-black fas fa-chevron-down"> </i>
          </button>
          <ul
            aria-labelledby="consumablesBtn"
            class="absolute left-0 z-10 invisible mt-1 transition-opacity bg-white border border-gray-300 rounded shadow-md opacity-0 top-full w-36"
            id="consumablesMenu"
            role="menu"
          >
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/chemicals"
                role="menuitem"
                tabindex="-1"
              >
                Chemicals
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/items"
                role="menuitem"
                tabindex="-1"
              >
                Items
              </a>
            </li>
          </ul>
        </li>
        <li class="relative">
          <button
            aria-expanded="false"
            aria-haspopup="true"
            class="inline-flex items-center cursor-pointer select-none focus:outline-none"
            id="nonconsumablesBtn"
            type="button"
          >
            Non-consumables
            <i class="ml-1 text-xs text-black fas fa-chevron-down"> </i>
          </button>
          <ul
            aria-labelledby="nonconsumablesBtn"
            class="absolute left-0 z-10 invisible mt-1 transition-opacity bg-white border border-gray-300 rounded shadow-md opacity-0 top-full w-44"
            id="nonconsumablesMenu"
            role="menu"
          >
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/equipments"
                role="menuitem"
                tabindex="-1"
              >
                Equipment
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/apparatus"
                role="menuitem"
                tabindex="-1"
              >
                Apparatus
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/glassware"
                role="menuitem"
                tabindex="-1"
              >
                Glassware
              </a>
            </li>
          </ul>
        </li>

        <li class="relative">
          <button
            aria-expanded="false"
            aria-haspopup="true"
            class="inline-flex items-center cursor-pointer select-none focus:outline-none"
            id="propertiesBtn"
            type="button"
          >
            Properties
            <i class="ml-1 text-xs text-black fas fa-chevron-down"> </i>
          </button>
          <ul
            aria-labelledby="propertiesBtn"
            class="absolute left-0 z-10 invisible w-40 mt-1 transition-opacity bg-white border border-gray-300 rounded shadow-md opacity-0 top-full"
            id="propertiesMenu"
            role="menu"
          >
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/unitType"
                role="menuitem"
                tabindex="-1"
              >
                Unit Type
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/location"
                role="menuitem"
                tabindex="-1"
              >
                Location
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a
            class="pb-1 border-b-2 border-transparent hover:border-[#2ca14a] hover:text-[#2ca14a]"
            href="/restocks"
          >
            Restocks
          </a>
        </li>
        <li>
          <a
            class="pb-1 border-b-2 border-transparent hover:border-[#2ca14a] hover:text-[#2ca14a]"
            href="/transactions"
          >
            Request History
          </a>
        </li>
        <li>
          <a
            class="pb-1 border-b-2 border-transparent hover:border-[#2ca14a] hover:text-[#2ca14a]"
            href="/statistics"
          >
            Statistics
          </a>
        </li>
      </ul>
    </nav>
    <main class="max-w-full px-4 mx-auto mt-6 sm:px-6 lg:px-12">
      <div class="flex items-center justify-between w-full">
        <input
          id="searchInput"
          aria-label="Search"
          class="rounded-md border border-gray-300 bg-white py-2 px-3 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent max-w-xs w-full sm:w-64"
          placeholder="Search admin"
          type="search"
        />
        <button
          aria-controls="addAdminModal"
          aria-haspopup="dialog"
          class="ml-4 custom-btn"
          id="addAdminBtn"
          type="button"
        >
          Add Admin
        </button>
      </div>
      <h2 class="mt-4 mb-3 text-sm font-semibold text-gray-900">
        Masterlist - Admins
      </h2>
      <div class="overflow-x-auto overflow-y-auto max-h-[70vh] border border-gray-100 rounded-md">
        <table class="min-w-full text-sm divide-y divide-gray-200">
          <thead class="sticky top-0 z-10 bg-gray-50">
            <tr>
              <th
                class="px-6 py-3 font-semibold text-left text-gray-900 border-b border-gray-200"
                scope="col"
              >
                Admin ID
              </th>
              <th
                class="px-6 py-3 font-semibold text-left text-gray-900 border-b border-gray-200"
                scope="col"
              >
                First Name
              </th>
              <th
                class="px-6 py-3 font-semibold text-left text-gray-900 border-b border-gray-200"
                scope="col"
              >
                Middle Name
              </th>
              <th
                class="px-6 py-3 font-semibold text-left text-gray-900 border-b border-gray-200"
                scope="col"
              >
                Last Name
              </th>
              <th
                class="px-6 py-3 font-semibold text-left text-gray-900 border-b border-gray-200"
                scope="col"
              ></th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <!-- Sample data row -->
          </tbody>
        </table>
      </div>
    </main>

    <!-- Add Admin Modal -->
    <div
      aria-labelledby="modalTitle"
      aria-modal="true"
      class="fixed inset-0 z-50 items-center justify-center hidden"
      id="addAdminModal"
      role="dialog"
    >
      <div
        class="fixed inset-0 bg-black opacity-50 modal-backdrop"
        id="modalBackdrop"
      ></div>
      <div
        class="relative z-50 w-full max-w-md p-6 bg-white rounded-lg shadow-lg"
      >
        <div class="flex items-center justify-between mb-6">
          <div class="flex items-center gap-3">
            <img
              src="/images/cas_logo.png"
              alt="CARES logo"
              class="object-contain w-12 h-12"
            />
            <span class="text-3xl font-black text-black">Add Admin</span>
          </div>
        </div>
        <form class="space-y-4" id="addAdminForm">
          <div
            id="addAdminError"
            class="hidden px-3 py-2 mb-2 text-sm text-red-600 bg-red-100 border border-red-300 rounded"
          ></div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="adminId"
            >
              Admin ID <span class="text-red-500">*</span>
            </label>
            <input
              class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
              id="adminId"
              name="adminId"
              required=""
              type="text"
              placeholder="123-456"
            />
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="password"
            >
              Password <span class="text-red-500">*</span>
            </label>
            <div class="relative">
              <input
                class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
                id="adminPassword"
                name="password"
                required
                type="password"
                minlength="8"
                pattern=".{8,}"
                placeholder="********"
                title="Password must be at least 8 characters long"
              />
              <button
                type="button"
                class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-600 password-toggle hover:text-gray-800"
                data-password-input="adminPassword"
              >
                <i class="fas fa-eye"></i>
              </button>
            </div>
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="firstName"
            >
              First Name <span class="text-red-500">*</span>
            </label>
            <input
              class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
              id="firstName"
              name="firstName"
              required=""
              type="text"
              placeholder="John"
            />
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="middleName"
            >
              Middle Name
            </label>
            <input
              class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
              id="middleName"
              name="middleName"
              type="text"
              placeholder="Doe"
            />
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="lastName"
            >
              Last Name <span class="text-red-500">*</span>
            </label>
            <input
              class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
              id="lastName"
              name="lastName"
              required=""
              type="text"
              placeholder="Smith"
            />
          </div>

          <div class="flex justify-end pt-4 space-x-3">
            <button
              class="px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-[#2ca14a]"
              id="cancelBtn"
              type="button"
            >
              Cancel
            </button>
            <button
              class="px-4 py-2 rounded-md bg-[#2dc653] text-white font-semibold hover:bg-[#27b04a] focus:outline-none focus:ring-2 focus:ring-[#27b04a]"
              type="submit"
            >
              Save
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Edit Admin Modal -->
    <div
      aria-labelledby="editAdminModalTitle"
      aria-modal="true"
      class="fixed inset-0 z-50 items-center justify-center hidden"
      id="editAdminModal"
      role="dialog"
    >
      <div
        class="fixed inset-0 bg-black opacity-50 modal-backdrop"
        id="modalBackdropEditAdmin"
      ></div>
      <div
        class="relative z-50 w-full max-w-md p-6 bg-white rounded-lg shadow-lg"
      >
        <div class="flex items-center justify-between mb-6">
          <div class="flex items-center gap-3">
            <img
              src="/images/cas_logo.png"
              alt="CARES logo"
              class="object-contain w-12 h-12"
            />
            <span class="text-3xl font-black text-black">Edit Admin</span>
          </div>
        </div>
        <form class="space-y-4" id="editAdminForm">
          <div
            id="editAdminError"
            class="hidden px-3 py-2 mb-2 text-sm text-red-600 bg-red-100 border border-red-300 rounded"
          ></div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="editAdminId"
              >Admin ID</label
            >
            <input
              class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent bg-gray-100"
              id="editAdminId"
              name="editAdminId"
              type="text"
              readonly
            />
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="editCurrentPassword"
            >
              Current Password <span class="text-red-500">*</span>
            </label>
            <div class="relative">
              <input
                class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
                id="editCurrentPassword"
                name="editCurrentPassword"
                required
                type="password"
                placeholder="Enter current password"
              />
              <button
                type="button"
                class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-600 password-toggle hover:text-gray-800"
                data-password-input="editCurrentPassword"
              >
                <i class="fas fa-eye"></i>
              </button>
            </div>
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="editNewPassword"
            >
              New Password <span class="text-red-500">*</span>
            </label>
            <div class="relative">
              <input
                class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
                id="editNewPassword"
                name="editNewPassword"
                required
                type="password"
                minlength="8"
                pattern=".{8,}"
                placeholder="Enter new password"
                title="Password must be at least 8 characters long"
              />
              <button
                type="button"
                class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-600 password-toggle hover:text-gray-800"
                data-password-input="editNewPassword"
              >
                <i class="fas fa-eye"></i>
              </button>
            </div>
            <p class="mt-1 text-sm text-gray-500">Must be at least 8 characters long</p>
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="editConfirmPassword"
            >
              Confirm New Password <span class="text-red-500">*</span>
            </label>
            <div class="relative">
              <input
                class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
                id="editConfirmPassword"
                name="editConfirmPassword"
                required
                type="password"
                minlength="8"
                pattern=".{8,}"
                placeholder="Confirm new password"
              />
              <button
                type="button"
                class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-600 password-toggle hover:text-gray-800"
                data-password-input="editConfirmPassword"
              >
                <i class="fas fa-eye"></i>
              </button>
            </div>
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="editFirstName"
              >First Name <span class="text-red-500">*</span></label
            >
            <input
              class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
              id="editFirstName"
              name="editFirstName"
              required
              type="text"
            />
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="editMiddleName"
              >Middle Name</label
            >
            <input
              class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
              id="editMiddleName"
              name="editMiddleName"
              type="text"
            />
          </div>
          <div>
            <label
              class="block mb-1 text-sm font-medium text-gray-700"
              for="editLastName"
              >Last Name <span class="text-red-500">*</span>
            </label>
            <input
              class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2ca14a] focus:border-transparent"
              id="editLastName"
              name="editLastName"
              required
              type="text"
            />
          </div>

          <div class="flex justify-end pt-4 space-x-3">
            <button
              class="px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-[#2ca14a]"
              id="cancelEditAdminBtn"
              type="button"
            >
              Cancel
            </button>
            <button
              class="px-4 py-2 rounded-md bg-[#2dc653] text-white font-semibold hover:bg-[#27b04a] focus:outline-none focus:ring-2 focus:ring-[#27b04a]"
              type="submit"
            >
              Save Changes
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Delete Admin Modal -->
    <div
      aria-labelledby="deleteAdminModalTitle"
      aria-modal="true"
      class="fixed inset-0 z-50 items-center justify-center hidden"
      id="deleteAdminModal"
      role="dialog"
    >
      <div
        class="fixed inset-0 bg-black opacity-50 modal-backdrop"
        id="modalBackdropDeleteAdmin"
      ></div>
      <div
        class="relative z-50 w-full max-w-md p-6 bg-white rounded-lg shadow-lg"
      >
        <div class="flex items-center justify-between mb-6">
          <div class="flex items-center gap-3">
            <img
              src="/images/cas_logo.png"
              alt="CARES logo"
              class="object-contain w-12 h-12"
            />
            <span class="text-3xl font-black text-black">Delete Admin</span>
          </div>
        </div>
        <p class="mb-6 text-gray-700">
          Are you sure you want to delete this admin? This action cannot be
          undone.
        </p>
        <div class="flex justify-end space-x-3">
          <button
            class="px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-[#2ca14a]"
            id="cancelDeleteAdminBtn"
            type="button"
          >
            Cancel
          </button>
          <button
            class="px-4 py-2 font-semibold text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500"
            id="confirmDeleteAdminBtn"
            type="button"
          >
            Delete
          </button>
        </div>
      </div>
    </div>

    <!-- Script to access the supabase API -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="/js/admins.js"></script>
  </body>
</html>

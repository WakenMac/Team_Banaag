<!DOCTYPE html>
<!-- NOTE: and # sa href kay mostly placeholders lang, and will be replaced with actual source path for that specific function -->
<!-- USED TAILWIND -->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>CARES | Statistics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&amp;display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/Frontend_Code/css/admin.css" />
    <!-- Add Chart.js for statistics visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Add Chart.js for statistics visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body class="bg-[#f3f7f7] min-h-screen font-poppins">
    <nav
      class="flex items-center justify-between px-4 md:px-8 lg:px-12 h-20 border-b border-gray-300 bg-[#f3f7f7]"
    >
      <!-- Left side: Logo and Title -->
      <a
        href="/Frontend_Code/html/dashboard.html"
        class="flex items-center space-x-3 group"
      >
        <img
          alt="CAS Lab logo with green and yellow colors, circular emblem with text"
          class="object-contain w-12 h-12 transition-transform"
          height="48"
          src="/Frontend_Code/images/cas_logo.png"
          width="48"
        />
        <div class="flex flex-col leading-tight">
          <span class="text-sm font-semibold text-black"> CARES. </span>
          <span class="text-[9px] font-semibold text-black/80 tracking-tight">
            CENTRALIZED RESOURCE
          </span>
          <span class="text-[9px] font-semibold text-black/80 tracking-tight">
            AND EQUIPMENT SYSTEM
          </span>
        </div>
        <div class="h-10 ml-4 border-l border-black/40"></div>
      </a>
      <!-- Right side: Navigation Links -->
      <ul class="flex space-x-8 text-[13px] font-normal text-black">
        <li>
          <a
            class="pb-1 border-b-2 border-transparent hover:border-[#2ca14a] hover:text-[#2ca14a]"
            href="/Frontend_Code/html/dashboard.html"
          >
            Dashboard
          </a>
        </li>
        <li class="relative">
          <button
            aria-expanded="false"
            aria-haspopup="true"
            class="inline-flex items-center cursor-pointer select-none focus:outline-none"
            id="masterlistBtn"
            type="button"
          >
            Masterlist
            <i class="ml-1 text-xs fas fa-chevron-down"> </i>
          </button>
          <ul
            aria-labelledby="masterlistBtn"
            class="absolute left-0 z-10 invisible mt-1 transition-opacity bg-white border border-gray-300 rounded shadow-md opacity-0 top-full w-36"
            id="masterlistMenu"
            role="menu"
          >
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/Frontend_Code/html/components/admins.html"
                role="menuitem"
                tabindex="-1"
              >
                Admins
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/Frontend_Code/html/components/inventory.html"
                role="menuitem"
                tabindex="-1"
              >
                Inventory
              </a>
            </li>
          </ul>
        </li>
        <li class="relative">
          <button
            aria-expanded="false"
            aria-haspopup="true"
            class="inline-flex items-center cursor-pointer select-none focus:outline-none"
            id="consumablesBtn"
            type="button"
          >
            Consumables
            <i class="ml-1 text-xs text-black fas fa-chevron-down"> </i>
          </button>
          <ul
            aria-labelledby="consumablesBtn"
            class="absolute left-0 z-10 invisible mt-1 transition-opacity bg-white border border-gray-300 rounded shadow-md opacity-0 top-full w-36"
            id="consumablesMenu"
            role="menu"
          >
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/Frontend_Code/html/components/chemicals.html"
                role="menuitem"
                tabindex="-1"
              >
                Chemicals
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/Frontend_Code/html/components/items.html"
                role="menuitem"
                tabindex="-1"
              >
                Items
              </a>
            </li>
          </ul>
        </li>
        <li class="relative">
          <button
            aria-expanded="false"
            aria-haspopup="true"
            class="inline-flex items-center cursor-pointer select-none focus:outline-none"
            id="nonconsumablesBtn"
            type="button"
          >
            Non-consumables
            <i class="ml-1 text-xs text-black fas fa-chevron-down"> </i>
          </button>
          <ul
            aria-labelledby="nonconsumablesBtn"
            class="absolute left-0 z-10 invisible mt-1 transition-opacity bg-white border border-gray-300 rounded shadow-md opacity-0 top-full w-44"
            id="nonconsumablesMenu"
            role="menu"
          >
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/Frontend_Code/html/components/equipments.html"
                role="menuitem"
                tabindex="-1"
              >
                Equipment
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/Frontend_Code/html/components/apparatus.html"
                role="menuitem"
                tabindex="-1"
              >
                Apparatus
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/Frontend_Code/html/components/glassware.html"
                role="menuitem"
                tabindex="-1"
              >
                Glassware
              </a>
            </li>
          </ul>
        </li>
        <li class="relative">
          <button
            aria-expanded="false"
            aria-haspopup="true"
            class="inline-flex items-center cursor-pointer select-none focus:outline-none"
            id="propertiesBtn"
            type="button"
          >
            Properties
            <i class="ml-1 text-xs text-black fas fa-chevron-down"> </i>
          </button>
          <ul
            aria-labelledby="propertiesBtn"
            class="absolute left-0 z-10 invisible w-40 mt-1 transition-opacity bg-white border border-gray-300 rounded shadow-md opacity-0 top-full"
            id="propertiesMenu"
            role="menu"
          >
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/Frontend_Code/html/components/unitType.html"
                role="menuitem"
                tabindex="-1"
              >
                Unit Type
              </a>
            </li>
            <li role="none">
              <a
                class="block px-4 py-2 text-sm text-black hover:bg-[#2ca14a] hover:text-white"
                href="/Frontend_Code/html/components/location.html"
                role="menuitem"
                tabindex="-1"
              >
                Location
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a
            class="pb-1 border-b-2 border-transparent hover:border-[#2ca14a] hover:text-[#2ca14a]"
            href="/Frontend_Code/html/components/restocks.html"
          >
            Restocks
          </a>
        </li>
        <li>
          <a
            class="pb-1 border-b-2 border-transparent hover:border-[#2ca14a] hover:text-[#2ca14a]"
            href="/Frontend_Code/html/components/transactions.html"
          >
            Transactions
          </a>
        </li>
        <li>
          <a
          class="inline-flex items-center font-semibold pb-1 border-b-2 border-[#2ca14a] text-[#2ca14a] cursor-pointer select-none focus:outline-none"
          href="/Frontend_Code/html/components/statistics.html"
          >
            Statistics
          </a>
        </li>
      </ul>
    </nav>
    <main class="w-full max-w-full px-2 mx-auto mt-8 sm:px-4 lg:px-8">
      <div class="mb-8">
        <h2 class="mb-2 text-3xl font-bold text-gray-900">Statistics Overview</h2>
        <p class="text-base text-gray-600">A summary of resource and equipment usage, trends, and alerts for the laboratory.</p>
      </div>
      <!-- Quick Alerts -->
      <div id="quickAlerts" class="mb-6 space-y-3"></div>
      <!-- Summary Row -->
      <div class="flex flex-wrap w-full gap-6 mb-8" id="summaryRow"></div>
      <!-- Last Updated Timestamp -->
      <div class="mb-8 text-sm text-gray-500" id="lastUpdated"></div>
      <!-- Consumables Section -->
      <section class="mb-12">
        <div class="grid w-full grid-cols-2 gap-8">
          <!-- Chemicals Card -->
          <div class="flex flex-col w-full gap-6 p-6 bg-white shadow rounded-xl">
            <div class="flex items-center mb-2">
              <i class="mr-2 text-green-500 fas fa-vial"></i>
              <h4 class="text-lg font-semibold text-gray-700">Chemicals</h4>
            </div>
            <!-- Top 10 Fast Moving -->
            <div>
              <div class="mb-1 font-semibold text-green-700">Top 10 Fast Moving Chemicals</div>
              <ol id="top10Chemicals" class="p-2 pl-4 space-y-2 rounded top10-scroll bg-green-50"></ol>
            </div>
            <!-- # Consumed -->
            <div class="text-center">
              <div class="text-xs text-gray-500">Chemicals Consumed</div>
              <div class="text-4xl font-bold text-green-600" id="chemicalsConsumedCount">0</div>
            </div>
            <!-- Soon to Expire -->
            <div>
              <div class="mb-1 font-semibold text-red-700">Soon to Expire</div>
              <ul id="chemicalsExpiryList" class="space-y-1"></ul>
            </div>
          </div>
          <!-- Items Card -->
          <div class="flex flex-col w-full gap-6 p-6 bg-white shadow rounded-xl">
            <div class="flex items-center mb-2">
              <i class="mr-2 text-yellow-500 fas fa-box-open"></i>
              <h4 class="text-lg font-semibold text-gray-700">Items</h4>
            </div>
            <!-- Top 10 Fast Moving -->
            <div>
              <div class="mb-1 font-semibold text-yellow-700">Top 10 Fast Moving Items</div>
              <ol id="top10Items" class="p-2 pl-4 space-y-2 rounded top10-scroll bg-yellow-50"></ol>
            </div>
            <!-- # Consumed -->
            <div class="text-center">
              <div class="text-xs text-gray-500">Items Consumed</div>
              <div class="text-4xl font-bold text-yellow-600" id="itemsConsumedCount">0</div>
            </div>
            <!-- Soon to Expire -->
            <div>
              <div class="mb-1 font-semibold text-red-700">Soon to Expire</div>
              <ul id="itemsExpiryList" class="space-y-1"></ul>
            </div>
          </div>
        </div>
      </section>
      <!-- Non-Consumables Section -->
      <section class="mb-12">
        <div class="grid w-full grid-cols-3 gap-8">
          <!-- Apparatus Card -->
          <div class="flex flex-col w-full gap-6 p-6 bg-white shadow rounded-xl">
            <div class="flex items-center mb-2">
              <i class="mr-2 text-blue-500 fas fa-cog"></i>
              <h4 class="text-lg font-semibold text-gray-700">Apparatus</h4>
            </div>
            <!-- Top 10 Frequently Borrowed -->
            <div>
              <div class="mb-1 font-semibold text-blue-700">Top 10 Frequently Borrowed Apparatus</div>
              <ol id="top10Apparatus" class="p-2 pl-4 space-y-2 rounded top10-scroll bg-blue-50"></ol>
            </div>
            <!-- # Borrowed -->
            <div class="text-center">
              <div class="text-xs text-gray-500">Apparatus Borrowed</div>
              <div class="text-4xl font-bold text-blue-600" id="apparatusBorrowedCount">0</div>
            </div>
            <!-- Currently Borrowed -->
            <div>
              <div class="mb-1 font-semibold text-purple-700">Currently Borrowed</div>
              <ul id="apparatusBorrowedList" class="space-y-1"></ul>
            </div>
          </div>
          <!-- Glassware Card -->
          <div class="flex flex-col w-full gap-6 p-6 bg-white shadow rounded-xl">
            <div class="flex items-center mb-2">
              <i class="mr-2 text-purple-500 fas fa-wine-glass-alt"></i>
              <h4 class="text-lg font-semibold text-gray-700">Glassware</h4>
            </div>
            <!-- Top 10 Frequently Borrowed -->
            <div>
              <div class="mb-1 font-semibold text-purple-700">Top 10 Frequently Borrowed Glassware</div>
              <ol id="top10Glassware" class="p-2 pl-4 space-y-2 rounded top10-scroll bg-purple-50"></ol>
            </div>
            <!-- # Borrowed -->
            <div class="text-center">
              <div class="text-xs text-gray-500">Glassware Borrowed</div>
              <div class="text-4xl font-bold text-purple-600" id="glasswareBorrowedCount">0</div>
            </div>
            <!-- Currently Borrowed -->
            <div>
              <div class="mb-1 font-semibold text-purple-700">Currently Borrowed</div>
              <ul id="glasswareBorrowedList" class="space-y-1"></ul>
            </div>
          </div>
          <!-- Equipment Card -->
          <div class="flex flex-col w-full gap-6 p-6 bg-white shadow rounded-xl">
            <div class="flex items-center mb-2">
              <i class="mr-2 text-red-500 fas fa-microscope"></i>
              <h4 class="text-lg font-semibold text-gray-700">Equipment</h4>
            </div>
            <!-- Top 10 Frequently Borrowed -->
            <div>
              <div class="mb-1 font-semibold text-red-700">Top 10 Frequently Borrowed Equipment</div>
              <ol id="top10Equipment" class="p-2 pl-4 space-y-2 rounded top10-scroll bg-red-50"></ol>
            </div>
            <!-- # Borrowed -->
            <div class="text-center">
              <div class="text-xs text-gray-500">Equipment Borrowed</div>
              <div class="text-4xl font-bold text-red-600" id="equipmentBorrowedCount">0</div>
            </div>
            <!-- Currently Borrowed -->
            <div>
              <div class="mb-1 font-semibold text-purple-700">Currently Borrowed</div>
              <ul id="equipmentBorrowedList" class="space-y-1"></ul>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="/Frontend_Code/js/statistics.js"></script>
  </body>
</html>
